<script type="text/html" id="tpl_navs">
    <nav class="btn btn-link" data-id="page"><i class="fa fa-cog"></i>页面设置</nav>
    <%each initnav as nav %>
        <nav class="btn btn-link <%if nav.type==type%>special<%/if%>" data-id="<%nav.id%>"><i class="fa fa-plus"></i> <%nav.name%></nav>
    <%/each%>
</script>

<script type="text/html" id="edit-del">
    <div class="btn-edit-del">
        <div class="btn-edit">编辑</div>
        <div class="btn-del">删除</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_page_mod">
    <div class="form-group row">
        <div class="col-sm-2 control-label">模块名称</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind="name" data-placeholder="请输入名称" placeholder="请输入名称" value="<%name%>" />
        </div>
    </div>
</script>

<script type="text/html" id="tpl_edit_page">

    <div class="form-group row">
        <div class="col-sm-2 control-label">页面名称</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind="name" data-placeholder="请输入名称" placeholder="请输入名称" value="<%page.name%>" />
            <div class="help-block">注意：页面名称是便于后台查找，页面标题是手机端标题。</div>
        </div>
    </div>

    <%if page.type!=5 && page.type!=7 && page.type!=8%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">页面标题</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind="title" data-placeholder="请输入标题" placeholder="请输入标题" value="<%page.title%>" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">关键字</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind="keyword" data-placeholder="" placeholder="请输入标题" value="<%page.keyword%>" />
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">页面介绍</div>
        <div class="col-sm-10">
            <textarea class="form-control richtext diy-bind" cols="70" rows="5" placeholder="请输入页面介绍" data-bind="desc" data-placeholder=""><%page.desc%></textarea>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">封面图</div>
        <div class="col-sm-10">
            <div class="input-group">
                <input class="form-control input-sm diy-bind" data-bind="icon" data-placeholder="" placeholder="" value="<%page.icon%>" id="iconsrc" />
                <span data-input="#iconsrc" data-img="#iconimg" data-toggle="selectImg" class="input-group-addon btn btn-pill btn-primary">选择图片</span>
            </div>
            <div class="input-group " style="margin-top:.5em;">
                <img src="<%imgsrc page.icon%>" onerror="this.src='/assets/ep/images/nopic.png';" class="img-responsive img-thumbnail" width="150" id="iconimg">
                <em class="close" style="position:absolute; top: 0px;" title="删除这张图片" onclick="$('#iconsrc').val('').trigger('change');$(this).prev().attr('src', '')">×</em>
            </div>
        </div>
    </div>
    <%/if%>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind="background" value="<%page.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#f3f3f3').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="line"></div>

    <%if page.type!=5 && page.type!=8%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">底部菜单</div>
        <div class="col-sm-10">
            <select class="form-control input-sm diy-bind" data-bind="diymenu">
                <option value="-1"<%if page.diymenu=='-1'%>selected="selected"<%/if%>>不显示</option>
                <option value="0" <%if page.diymenu=='0'%>selected="selected"<%/if%>>系统默认</option>
                <%each diymenu as menu%>
                <option value="<%menu.id%>" <%if page.diymenu==menu.id%>selected="selected"<%/if%>><%menu.name%></option>
                <%/each%>
            </select>
        </div>
    </div>
    <%/if%>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">启动广告</div>
        <div class="col-sm-10">
            <select class="form-control input-sm diy-bind" data-bind="diyadv">
                <option value="0" <%if page.diyadv=='0'||!page.diyadv%>selected="selected"<%/if%>>不显示</option>
                <%each diyadvs as diyadv%>
                <option value="<%diyadv.id%>" <%if page.diyadv==diyadv.id%>selected="selected"<%/if%>><%diyadv.name%></option>
                <%/each%>
            </select>
        </div>
    </div>

    <%if page.type==1%>
        <div class="line"></div>

        <div class="form-group row">
            <div class="col-sm-2 control-label">访问权限</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="visit" value="1" class="diy-bind" data-bind="visit" data-bind-init="true" <%if page.visit=='1'%>checked="checked"<%/if%> > 开启</div>
                <div class="radio radio-primary"><input type="radio" name="visit" value="0" class="diy-bind" data-bind="visit" data-bind-init="true" <%if page.visit=='0' || !page.visit%>checked="checked"<%/if%> > 不开启</div>
            <%if page.visit==1%>
                <div class="help-block">提示：请勾选有访问权限的等级</div>
            <%/if%>
            </div>
        </div>

        <%if page.visit==1%>
            <div class="form-group row">
                <div class="col-sm-2 control-label">会员等级</div>
                <div class="col-sm-10">
                    <%each levels.member as level%>
                    <label class="checkbox-inline"><input type="checkbox" value="<%level.id%>" class="diy-bind" data-bind-child="visitlevel" data-bind="member" <%if inArray(page.visitlevel.member, level.id)%>checked="checked"<%/if%>> <%level.levelname%></label>
                    <%/each%>
                </div>
            </div>

            <%if levels.commission%>
            <div class="form-group row">
                <div class="col-sm-2 control-label">分销商等级</div>
                <div class="col-sm-10">
                    <%each levels.commission as level%>
                    <label class="checkbox-inline"><input type="checkbox" value="<%level.id%>" class="diy-bind" data-bind-child="visitlevel" data-bind="commission" <%if inArray(page.visitlevel.commission, level.id)%>checked="checked"<%/if%>> <%level.levelname%></label>
                    <%/each%>
                </div>
            </div>
            <%/if%>

            <div class="form-group row">
                <div class="col-sm-2 control-label">无权提示</div>
                <div class="col-sm-10">
                    <div class="input-group">
                        <div class="input-group-append"><span class="input-group-text">标题</span></div>
                        <input class="form-control input-sm diy-bind" data-bind-child="novisit" data-bind="title" data-placeholder="" placeholder="无权提示，请简单填写" value="<%page.novisit.title%>">
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-sm-2 control-label"></div>
                <div class="col-sm-10">
                    <div class="input-group">
                        <div class="input-group-append"><span class="input-group-text">链接</span></div>
                        <input class="form-control input-sm diy-bind" data-bind-child="novisit" data-bind="link" data-placeholder="" placeholder="确定跳转链接，不填则返回首页" value="<%page.novisit.link%>" id="noperm">
                        <span data-input="#noperm" data-toggle="selectUrl" class="input-group-addon btn btn-pill btn-primary">选择链接</span>
                    </div>
                </div>
            </div>
        <%/if%>
    <%/if%>
</script>

<script type="text/html" id="tpl_edit_notice">

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">小图标颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="iconcolor" value="<%style.iconcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#fd5454').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">公告颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="color" value="<%style.color%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">公告图标</div>
        <div class="col-sm-10">
            <div class="input-group">
                <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="iconurl" value="<%params.iconurl%>" id="iconsrc" />
                <span data-input="#iconsrc" data-img="#iconimg" data-toggle="selectImg" class="input-group-addon btn btn-pill btn-primary">选择图片</span>
            </div>
            <div class="input-group " style="margin-top:.5em;">
                <img src="<%params.iconurl%>" onerror="this.src='/assets/ep/images/nopic.jpg';" class="img-responsive img-thumbnail" width="150" id="iconimg">
                <span class="close" style="position:absolute; top: -10px;" title="重置默认图片" onclick="$('#iconsrc').val('/assets/ep/images/hotdot.jpg').trigger('change');$(this).prev().attr('src', '../addons/Snailfish_shop/assets/ep/images/hotdot.jpg')">×</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">滚动速度</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%params.speed%>" data-min="1" data-max="10"></div>
                <div class="col-sm-4 control-labe count"><span><%params.speed%></span>秒</div>
                <input class="diy-bind input" data-bind-child="params" data-bind="speed" value="<%params.speed%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">公告内容</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="noticedata" value="0" class="diy-bind" data-bind-child="params" data-bind="noticedata" data-bind-init="true" <%if params.noticedata=='0'%>checked="checked"<%/if%> > 读取商城公告</div>
            <div class="radio radio-primary"><input type="radio" name="noticedata" value="1" class="diy-bind" data-bind-child="params" data-bind="noticedata" data-bind-init="true" <%if params.noticedata=='1'%>checked="checked"<%/if%>> 手动填写</div>
        </div>
    </div>

    <%if params.noticedata=='1'%>
        <div class="form-items indent" data-min="1">
            <div class="inner" id="form-items">
                <%each data as child itemid %>
                <div class="item" data-id="<%itemid%>">
                    <span class="btn-del" title="删除"></span>
                    <div class="item-image drag-btn square">拖动排序</div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <div class="input-group-append"><span class="input-group-text">标题</span></div>
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="title" placeholder="请输入公告标题" value="<%child.title%>" />
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址(http://开头)" value="<%child.linkurl%>" />
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                        </div>
                    </div>
                </div>
                <%/each%>
            </div>
            <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
        </div>
    <%/if%>

    <%if params.noticedata=='0'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">读取数量</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="noticenum" value="5" class="diy-bind" data-bind-child="params" data-bind="noticenum" <%if params.noticenum=='5'%>checked="checked"<%/if%> > 5条</div>
                <div class="radio radio-primary"><input type="radio" name="noticenum" value="10" class="diy-bind" data-bind-child="params" data-bind="noticenum" <%if params.noticenum=='10'%>checked="checked"<%/if%>> 10条</div>
                <div class="radio radio-primary"><input type="radio" name="noticenum" value="20" class="diy-bind" data-bind-child="params" data-bind="noticenum" <%if params.noticenum=='20'%>checked="checked"<%/if%>> 20条</div>
            </div>
        </div>
    <%/if%>
</script>

<script type="text/html" id="tpl_edit_richtext">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">边距设置</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.padding%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.padding%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="padding" value="<%style.padding%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-richtext">
        <div id="rich"></div>
        <textarea id="richtext" class="diy-bind" data-bind-child="params" data-bind="content" style="display: none"></textarea>
    </div>
    <div class="alert alert-danger" style="margin-top: 10px; margin-bottom: 0;">注意：页面程序使用JS引擎，请勿将富文本里再填写JS代码块</div>
</script>

<script type="text/html" id="tpl_edit_banner">
    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮形状</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="dotstyle" value="rectangle" class="diy-bind" data-bind-child="style" data-bind="dotstyle" <%if style.dotstyle=='rectangle'%>checked="checked"<%/if%> > 长方形</div>
            <div class="radio radio-primary"><input type="radio" name="dotstyle" value="square" class="diy-bind" data-bind-child="style" data-bind="dotstyle" <%if style.dotstyle=='square'%>checked="checked"<%/if%>> 正方形</div>
            <div class="radio radio-primary"><input type="radio" name="dotstyle" value="round" class="diy-bind" data-bind-child="style" data-bind="dotstyle" <%if style.dotstyle=='round'%>checked="checked"<%/if%>> 圆形</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮位置</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="dotalign" value="left" class="diy-bind" data-bind-child="style" data-bind="dotalign" <%if style.dotalign=='left'%>checked="checked"<%/if%> > 居左</div>
            <div class="radio radio-primary"><input type="radio" name="dotalign" value="center" class="diy-bind" data-bind-child="style" data-bind="dotalign" <%if style.dotalign=='center'%>checked="checked"<%/if%>> 居中</div>
            <div class="radio radio-primary"><input type="radio" name="dotalign" value="right" class="diy-bind" data-bind-child="style" data-bind="dotalign" <%if style.dotalign=='right'%>checked="checked"<%/if%>> 居右</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.leftright%>" data-min="5" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.leftright%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="leftright" value="<%style.leftright%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮底部边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.bottom%>" data-min="5" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.bottom%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="bottom" value="<%style.bottom%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">透明度</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8 " data-value="<%style.opacity%>" data-min="0" data-max="10" data-decimal="10"></div>
                <div class="col-sm-4 control-labe count"><span><%style.opacity%></span>(最大是1)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="opacity" value="<%style.opacity%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-items" data-min="1">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image">
                    <img src="<%child.imgurl%>" onerror="this.src='/assets/ep/images/nopic.jpg';" id="pimg-<%itemid%>" />
                </div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" placeholder="请选择图片或输入图片地址" value="<%child.imgurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectImg" data-input="#cimg-<%itemid%>" data-img="#pimg-<%itemid%>">选择图片</span>
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_title">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="color" value="<%style.color%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">标题文字</div>
        <div class="col-sm-10">
            <div class="input-group form-group" style="margin: 0;">
                <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="title" data-placeholder="" placeholder="请输入标题" value="<%params.title%>" />
                <input class="diy-bind" type="hidden" data-bind-child="params" data-bind="icon" value="<%params.icon%>" id="titleicon" />
                <span data-input="#titleicon" data-toggle="selectIcon" class="input-group-addon btn btn-pill btn-primary">选择图标</span>
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().prev().val('').trigger('change');">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">标题链接</div>
        <div class="col-sm-10">
            <div class="input-group form-group" style="margin: 0;">
                <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="link" data-placeholder="" placeholder="" value="<%params.link%>" id="titlelink"/>
                <span data-input="#titlelink" data-toggle="selectUrl" class="input-group-addon btn btn-pill btn-primary">选择链接</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">对齐方向</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="textalign" value="left" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='left'%>checked="checked"<%/if%> > 居左</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="center" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='center'%>checked="checked"<%/if%>> 居中</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="right" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='right'%>checked="checked"<%/if%>> 居右</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">文字大小</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.fontsize%>" data-min="9" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.fontsize%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="fontsize" value="<%style.fontsize%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="1" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="1" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="tpl_edit_search">
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索类型</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="goodstype" value="0" class="diy-bind" data-bind-child="params" data-bind="goodstype" <%if params.goodstype=='0'||!params.goodstype%>checked="checked"<%/if%>> 商城商品</div>
            <div class="radio radio-primary"><input type="radio" name="goodstype" value="1" class="diy-bind" data-bind-child="params" data-bind="goodstype" <%if params.goodstype=='1'%>checked="checked"<%/if%> > 拼团商品</div>
        </div>
    </div>
    <div class="line"></div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#f1f1f2').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">输入框背景</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="inputbackground" value="<%style.inputbackground%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="color" value="<%style.color%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#999999').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">图标颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="iconcolor" value="<%style.iconcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#b4b4b4').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">提示文字</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="placeholder" data-placeholder="" placeholder="请输入提示文字(不填则不显示，最长20字)" value="<%params.placeholder%>" maxlength="20" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="2" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="2" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索框样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="" class="diy-bind" data-bind-child="style" data-bind="searchstyle" <%if style.searchstyle==''%>checked="checked"<%/if%> > 方形</div>
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="radius" class="diy-bind" data-bind-child="style" data-bind="searchstyle" <%if style.searchstyle=='radius'%>checked="checked"<%/if%>> 圆角</div>
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="round" class="diy-bind" data-bind-child="style" data-bind="searchstyle" <%if style.searchstyle=='round'%>checked="checked"<%/if%>> 圆弧</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">文字对齐</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="textalign" value="left" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='left'%>checked="checked"<%/if%> > 居左</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="center" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='center'%>checked="checked"<%/if%>> 居中</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="right" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='right'%>checked="checked"<%/if%>> 居右</div>
        </div>
    </div>
</script>

<script type="text/html" id="tpl_edit_line">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">线条颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="bordercolor" value="<%style.bordercolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">线条样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="linestyle" value="solid" class="diy-bind" data-bind-child="style" data-bind="linestyle" <%if style.linestyle=='solid'%>checked="checked"<%/if%> > 实线</div>
            <div class="radio radio-primary"><input type="radio" name="linestyle" value="dashed" class="diy-bind" data-bind-child="style" data-bind="linestyle" <%if style.linestyle=='dashed'%>checked="checked"<%/if%>> 虚线(长方形)</div>
            <div class="radio radio-primary"><input type="radio" name="linestyle" value="dotted" class="diy-bind" data-bind-child="style" data-bind="linestyle" <%if style.linestyle=='dotted'%>checked="checked"<%/if%>> 虚线(正方形)</div>
            <div class="radio radio-primary"><input type="radio" name="linestyle" value="double" class="diy-bind" data-bind-child="style" data-bind="linestyle" <%if style.linestyle=='double'%>checked="checked"<%/if%>> 双实线</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">线条高度</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.height%>" data-min="1" data-max="20"></div>
                <div class="col-sm-4 control-labe count"><span><%style.height%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="height" value="<%style.height%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.padding%>" data-min="1" data-max="30"></div>
                <div class="col-sm-4 control-labe count"><span><%style.height%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="padding" value="<%style.padding%>" type="hidden" />
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="tpl_edit_blank">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">元素高度</div>
            <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.height%>" data-min="1" data-max="200"></div>
                <div class="col-sm-4 control-labe count"><span><%style.height%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="height" value="<%style.height%>" type="hidden" />
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="tpl_edit_menu">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">按钮形状</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="navstyle" value="" class="diy-bind" data-bind-child="style" data-bind="navstyle" <%if style.navstyle==''%>checked="checked"<%/if%>> 正方形</div>
            <div class="radio radio-primary"><input type="radio" name="navstyle" value="radius" class="diy-bind" data-bind-child="style" data-bind="navstyle" <%if style.navstyle=='radius'%>checked="checked"<%/if%>> 圆角</div>
            <div class="radio radio-primary"><input type="radio" name="navstyle" value="circle" class="diy-bind" data-bind-child="style" data-bind="navstyle" <%if style.navstyle=='circle'%>checked="checked"<%/if%>> 圆形</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">显示方式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showtype" value="0" class="diy-bind" data-bind-child="style" data-bind="showtype" data-bind-init="true" <%if style.showtype=='0'||!style.showtype%>checked="checked"<%/if%>>单页显示</div>
            <div class="radio radio-primary"><input type="radio" name="showtype" value="1" class="diy-bind" data-bind-child="style" data-bind="showtype" data-bind-init="true" <%if style.showtype=='1'%>checked="checked"<%/if%>> 多页滑动显示</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">每行数量</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="rownum" value="3" class="diy-bind" data-bind-child="style" data-bind="rownum" <%if style.rownum=='3'%>checked="checked"<%/if%>> 3个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="4" class="diy-bind" data-bind-child="style" data-bind="rownum" <%if style.rownum=='4'%>checked="checked"<%/if%>> 4个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="5" class="diy-bind" data-bind-child="style" data-bind="rownum" <%if style.rownum=='5'%>checked="checked"<%/if%>> 5个</div>
        </div>
    </div>

    <%if style.showtype>0%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">每页数量</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.pagenum||8%>" data-min="3" data-max="20"></div>
                <div class="col-sm-4 control-labe count"><span><%style.pagenum||8%></span>个</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="pagenum" value="<%style.pagenum||8%>" type="hidden" />
            </div>
            <div class="help-block">超出设定数量自动分页</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">显示分页</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showdot" value="0" class="diy-bind" data-bind-child="style" data-bind="showdot" <%if style.showdot=='0'||!style.showdot%>checked="checked"<%/if%>> 隐藏</div>
            <div class="radio radio-primary"><input type="radio" name="showdot" value="1" class="diy-bind" data-bind-child="style" data-bind="showdot" <%if style.showdot=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>
    <%/if%>

    <div class="form-items" data-min="1">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image square">
                    <div class="text" data-toggle="selectImg" data-input="#cimg-<%itemid%>" data-img="#pimg-<%itemid%>">选择图片</div>
                    <img src="<%imgsrc child.imgurl%>" onerror="this.src='/assets/ep/images/nopic.jpg';" id="pimg-<%itemid%>" />
                    <input type="hidden" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" value="<%child.imgurl%>" />
                </div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <div class="input-group-append"><span class="input-group-text">文字</span></div>
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" placeholder="请选择图片或输入图片地址" value="<%child.text%>" style="width: 60%" />
                        <input class="form-control input-sm diy-bind color " data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="color" value="<%child.color%>" type="color" style="width: 40%" />
                        <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置颜色</span>
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_menu2">
    <div class="form-group row">
        <div class="col-sm-2 control-label">顶部边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.margintop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.margintop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="margintop" value="<%style.margintop%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-items indent" data-min="1" data-max="3">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-body">
                    <div class="item-image drag-btn square" style="height: 110px; line-height: 110px;">拖动排序</div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <input class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="iconclass" value="<%child.iconclass%>" type="hidden" id="iconclass-<%itemid%>" data-bind-init="true" />
                            <span class="input-group-addon" style="width: 55px; border-right: 0;"><i class="icon <%child.iconclass%>" id="iconshow-<%itemid%>"></i> <%if child.iconclass==''%>无图标<%/if%></span>
                            <span class="form-control input-sm btn btn-pill btn-primary" style="line-height: 28px; padding: 0 5px;" data-toggle="selectIcon" data-input="#iconclass-<%itemid%>" data-element="#iconshow-<%itemid%>">选择图标</span>
                            <span class="input-group-addon btn btn-pill btn-primary" style="border-left: 0; line-height: 28px; padding: 0 5px;" onclick="$('#iconclass-<%itemid%>').val('').trigger('change');">清除</span>
                            <span class="input-group-addon" style="border-left: 0; border-right: 0; padding: 0 8px;">图标颜色</span>
                            <input type="color" class="form-control input-sm diy-bind color" value="<%child.iconcolor%>" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="iconcolor" style="width: 105px;">
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <div class="input-group-append"><span class="input-group-text">文字</span></div>
                            <input type="text" class="form-control input-sm diy-bind" value="<%child.text%>" placeholder="留空则不显示" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" maxlength="20">
                            <span class="input-group-addon" style="border-left: 0; border-right: 0;">文字颜色</span>
                            <input type="color" class="form-control input-sm diy-bind color" value="<%child.textcolor%>" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="textcolor" style="width: 107px;">
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>">
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                        </div>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_picture">
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-items indent" data-min="1">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
                <div class="item" data-id="<%itemid%>">
                    <span class="btn-del" title="删除"></span>
                    <div class="item-image">
                        <img src="<%child.imgurl%>" onerror="this.src='/assets/ep/images/nopic.jpg';" id="pimg-<%itemid%>" />
                    </div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" placeholder="请选择图片或输入图片地址" value="<%child.imgurl%>" />
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectImg" data-input="#cimg-<%itemid%>" data-img="#pimg-<%itemid%>">选择图片</span>
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                        </div>
                    </div>
                </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_picturew">
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">清除</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">布局方式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="row" value="2" class="diy-bind" data-bind-child="params" data-bind="row" data-bind-init="true" <%if params.row=='2'%>checked="checked"<%/if%>> 堆积两列</div>
            <div class="radio radio-primary"><input type="radio" name="row" value="1" class="diy-bind" data-bind-child="params" data-bind="row" data-bind-init="true" <%if params.row=='1'%>checked="checked"<%/if%>> 橱窗样式</div>
            <div class="radio radio-primary"><input type="radio" name="row" value="3" class="diy-bind" data-bind-child="params" data-bind="row" data-bind-init="true" <%if params.row=='3'%>checked="checked"<%/if%> > 堆积三列</div>
            <div class="radio radio-primary"><input type="radio" name="row" value="4" class="diy-bind" data-bind-child="params" data-bind="row" data-bind-init="true" <%if params.row=='4'%>checked="checked"<%/if%> > 堆积四列</div>

            <%if params.row==1%>
                <div class="help-block">橱窗样式布局请参考 <a href="{:U('shop/cube')}" target="_blank">首页魔方</a>，单组最多显示四个，超出隐藏</div>
            <%/if%>
            <%if params.row>1%>
            <div class="help-block">图片大小不限制，但请确保所有图片的尺寸/比例相同。</div>
            <%/if%>
        </div>
    </div>

    <%if params.row>1%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">显示类型</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="showtype" value="0" class="diy-bind" data-bind-child="params" data-bind="showtype" data-bind-init="true" <%if params.showtype=='0'||!params.showtype%>checked="checked"<%/if%>> 普通模式</div>
                <div class="radio radio-primary"><input type="radio" name="showtype" value="1" class="diy-bind" data-bind-child="params" data-bind="showtype" data-bind-init="true" <%if params.showtype=='1'%>checked="checked"<%/if%> > 多页滑动模式</div>
            </div>
        </div>
    <%/if%>

    <%if params.row>1&&params.showtype==1%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">每页数量</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.pagenum||2%>" data-min="2" data-max="12"></div>
                <div class="col-sm-4 control-labe count"><span><%style.pagenum||2%></span>个</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="pagenum" value="<%style.pagenum||2%>" type="hidden" />
            </div>
            <div class="help-block">超出设定数量自动分页</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">显示分页</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showdot" value="0" class="diy-bind" data-bind-child="style" data-bind="showdot" <%if style.showdot=='0'||!style.showdot%>checked="checked"<%/if%>> 隐藏</div>
            <div class="radio radio-primary"><input type="radio" name="showdot" value="1" class="diy-bind" data-bind-child="style" data-bind="showdot" <%if style.showdot=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">分页按钮</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showbtn" value="0" class="diy-bind" data-bind-child="style" data-bind="showbtn" <%if style.showbtn=='0'||!style.showbtn%>checked="checked"<%/if%>> 隐藏</div>
            <div class="radio radio-primary"><input type="radio" name="showbtn" value="1" class="diy-bind" data-bind-child="style" data-bind="showbtn" <%if style.showbtn=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>
    <%/if%>

    <div class="form-items indent" data-min="2" data-max="20">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image">
                    <img src="<%child.imgurl%>" onerror="this.src='/assets/ep/images/nopic.jpg';" id="pimg-<%itemid%>" />
                </div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" placeholder="请选择图片或输入图片地址" value="<%child.imgurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectImg" data-input="#cimg-<%itemid%>" data-img="#pimg-<%itemid%>">选择图片</span>
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_listmenu">
    <div class="form-group row">
        <div class="col-sm-2 control-label">顶部边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.margintop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.margintop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="margintop" value="<%style.margintop%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">图标颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="iconcolor" value="<%style.iconcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#999999').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="textcolor" value="<%style.textcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#333333').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">提示文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="remarkcolor" value="<%style.remarkcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#888888').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="line"></div>
    <div class="form-items indent" data-min="1" data-max="8">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-body">
                    <div class="item-image square">
                        <span class="btn-del" title="清空图标" onclick="$('#cicon-<%itemid%>').val('').trigger('change')"></span>
                        <div class="icon-main">
                            <span class="icon <%child.iconclass%>" id="picon-<%itemid%>"></span>
                        </div>
                        <div class="text" data-toggle="selectIcon" data-input="#cicon-<%itemid%>" data-element="#picon-<%itemid%>">选择图标</div>
                        <input type="hidden" id="cicon-<%itemid%>" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="iconclass" data-bind-init="true">
                    </div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <div class="input-group-append"><span class="input-group-text">文字</span></div>
                            <input type="text" class="form-control input-sm diy-bind" value="<%child.text%>" placeholder="留空则不显示" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" maxlength="20">
                            <span class="input-group-addon" style="border-left: 0; border-right: 0;">提示</span>
                            <input type="text" class="form-control input-sm diy-bind" value="<%child.remark%>" placeholder="留空则不显示" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="remark" maxlength="6" style="width: 80px;">
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>">
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                        </div>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
    <div class="alert alert-danger" style="margin: 10px 10px 0;">提示：选择链接后，系统会根据你选择的链接判断是否显示。</div>
</script>

<script type="text/html" id="tpl_edit_icongroup">
    <div class="form-group row">
        <div class="col-sm-2 control-label">每行数量</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="style" value="3" class="diy-bind" data-bind-child="params" data-bind="rownum" data-bind-init="true" <%if params.rownum=='3'%>checked="checked"<%/if%>> 3个</div>
            <div class="radio radio-primary"><input type="radio" name="style" value="4" class="diy-bind" data-bind-child="params" data-bind="rownum" data-bind-init="true" <%if params.rownum=='4' || params.style==''%>checked="checked"<%/if%>> 4个</div>
            <div class="radio radio-primary"><input type="radio" name="style" value="5" class="diy-bind" data-bind-child="params" data-bind="rownum" data-bind-init="true" <%if params.rownum=='5'%>checked="checked"<%/if%> > 5个</div>
        </div>
    </div>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">图标颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="iconcolor" value="<%style.iconcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="textcolor" value="<%style.textcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#000000').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">角标背景</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="dotcolor" value="<%style.dotcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ff5555').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">边框颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="bordercolor" value="<%style.bordercolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#fafafa').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">顶部边框</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="bordertop" value="0" class="diy-bind" data-bind-child="params" data-bind="bordertop" data-bind-init="true" <%if params.bordertop=='0' || params.bordertop==''%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="bordertop" value="1" class="diy-bind" data-bind-child="params" data-bind="bordertop" data-bind-init="true" <%if params.bordertop=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">底部边框</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="borderbottom" value="0" class="diy-bind" data-bind-child="params" data-bind="borderbottom" data-bind-init="true" <%if params.borderbottom=='0' || params.borderbottom==''%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="borderbottom" value="1" class="diy-bind" data-bind-child="params" data-bind="borderbottom" data-bind-init="true" <%if params.borderbottom=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">中间边框</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="border" value="0" class="diy-bind" data-bind-child="params" data-bind="border" data-bind-init="true" <%if params.border=='0' || params.border==''%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="border" value="1" class="diy-bind" data-bind-child="params" data-bind="border" data-bind-init="true" <%if params.border=='1'%>checked="checked"<%/if%>> 显示</div>
        </div>
    </div>

    <div class="line"></div>

    <div class="form-items indent" data-min="3" data-max="10">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-body">
                    <div class="item-image square">
                        <div class="icon-main">
                            <span class="icon <%child.iconclass%>" id="picon-<%itemid%>"></span>
                        </div>
                        <div class="text" data-toggle="selectIcon" data-input="#cicon-<%itemid%>" data-element="#picon-<%itemid%>">选择图标</div>
                        <input type="hidden" id="cicon-<%itemid%>" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="iconclass" data-bind-init="true">
                    </div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <div class="input-group-append"><span class="input-group-text">文字</span></div>
                            <input type="text" class="form-control input-sm diy-bind" value="<%child.text%>" placeholder="留空则不显示" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" maxlength="20">
                        </div>
                        <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                            <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>">
                            <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                        </div>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
    <div class="alert alert-danger" style="margin: 10px 10px 0;">提示：选择链接后，系统会根据你选择的链接判断显示角标。</div>
</script>

<script type="text/html" id="tpl_edit_pictures">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">上下间距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">左右间距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">显示方式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showtype" value="0" class="diy-bind" data-bind-child="params" data-bind="showtype" data-bind-init="true" <%if params.showtype=='0'||!params.showtype%>checked="checked"<%/if%>>单页显示</div>
            <div class="radio radio-primary"><input type="radio" name="showtype" value="1" class="diy-bind" data-bind-child="params" data-bind="showtype" data-bind-init="true" <%if params.showtype=='1'%>checked="checked"<%/if%>> 单行滑动模式</div>
        </div>
    </div>

    <%if params.showtype==1%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">分页按钮</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="showbtn" value="0" class="diy-bind" data-bind-child="params" data-bind="showbtn" data-bind-init="true" <%if params.showbtn=='0'||!params.showbtn%>checked="checked"<%/if%>>隐藏</div>
                <div class="radio radio-primary"><input type="radio" name="showbtn" value="1" class="diy-bind" data-bind-child="params" data-bind="showbtn" data-bind-init="true" <%if params.showbtn=='1'%>checked="checked"<%/if%>> 显示</div>
            </div>
        </div>
    <%/if%>

    <div class="form-group row">
        <div class="col-sm-2 control-label">每行数量</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="rownum" value="1" class="diy-bind" data-bind-child="params" data-bind="rownum" <%if params.rownum=='1'%>checked="checked"<%/if%>> 1个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="2" class="diy-bind" data-bind-child="params" data-bind="rownum" <%if params.rownum=='2'%>checked="checked"<%/if%>> 2个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="3" class="diy-bind" data-bind-child="params" data-bind="rownum" <%if params.rownum=='3'%>checked="checked"<%/if%>> 3个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="4" class="diy-bind" data-bind-child="params" data-bind="rownum" <%if params.rownum=='4'%>checked="checked"<%/if%>> 4个</div>
            <div class="radio radio-primary"><input type="radio" name="rownum" value="5" class="diy-bind" data-bind-child="params" data-bind="rownum" <%if params.rownum=='5'%>checked="checked"<%/if%>> 5个</div>
        </div>
    </div>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">上标题颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="titlecolor" value="<%style.titlecolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">下标题颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="textcolor" value="<%style.textcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">上标题对齐</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="titlealign" value="left" class="diy-bind" data-bind-child="style" data-bind="titlealign" <%if style.titlealign=='left'||!style.titlealign%>checked="checked"<%/if%>> 左对齐</div>
            <div class="radio radio-primary"><input type="radio" name="titlealign" value="center" class="diy-bind" data-bind-child="style" data-bind="titlealign" <%if style.titlealign=='center'%>checked="checked"<%/if%>> 居中显示</div>
            <div class="radio radio-primary"><input type="radio" name="titlealign" value="right" class="diy-bind" data-bind-child="style" data-bind="titlealign" <%if style.titlealign=='right'%>checked="checked"<%/if%>> 右对齐</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">下标题对齐</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="textalign" value="left" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='left'||!style.titlealign%>checked="checked"<%/if%>> 左对齐</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="center" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='center'%>checked="checked"<%/if%>> 居中显示</div>
            <div class="radio radio-primary"><input type="radio" name="textalign" value="right" class="diy-bind" data-bind-child="style" data-bind="textalign" <%if style.textalign=='right'%>checked="checked"<%/if%>> 右对齐</div>
        </div>
    </div>

    <div class="form-items indent" data-min="1">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image" style="height: 110px;">
                    <img src="<%imgsrc child.imgurl%>"  id="pimg-<%itemid%>" style="height: 100%; width: auto;" />
                </div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <div class="input-group-append"><span class="input-group-text">上标题</span></div>
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="title" placeholder="请输入上标题" value="<%child.title%>" />
                        <span class="input-group-addon" style="border-right: 0; border-left: 0;">下标题</span>
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" placeholder="请输入下标题" value="<%child.text%>" />
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" placeholder="请选择图片或输入图片地址" value="<%child.imgurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectImg" data-input="#cimg-<%itemid%>" data-img="#pimg-<%itemid%>">选择图片</span>
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>

    <div class="alert alert-primary" style="margin-top: 10px; margin-bottom: 0;">注意：如果上标题 、下标题为空则不显示</div>
</script>

<script type="text/html" id="tpl_edit_audio">
    <div class="form-group row">
        <div class="col-sm-2 control-label">选择音频</div>
        <div class="col-sm-10">
            <div class="input-group input-group-sm">
                <input class="form-control diy-bind" name="" placeholder="请点击右侧按钮选择音频" value="<%params.audiourl%>" data-bind-child="params" data-bind="audiourl" id="audiourl" data-bind-init="true" />
                <span class="input-group-addon btn audio-player" style="border-left: 0;"><i class="fa fa-play"></i></span>
                <audio src="<%imgsrc params.audiourl%>"></audio>
                <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectAudio" data-input="#audiourl">选择音频</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">播放样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="playerstyle" value="0" class="diy-bind" data-bind-child="params" data-bind="playerstyle" data-bind-init="true" <%if params.playerstyle=='0'||!params.playerstyle%>checked="checked"<%/if%>> 音乐播放模式</div>
            <div class="radio radio-primary"><input type="radio" name="playerstyle" value="1" class="diy-bind" data-bind-child="params" data-bind="playerstyle" data-bind-init="true" <%if params.playerstyle=='1'%>checked="checked"<%/if%>> 语音消息模式</div>
        </div>
    </div>

    <%if params.playerstyle=='0'||!params.playerstyle%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">标题文字</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="title" data-placeholder="" placeholder="请输入标题" value="<%params.title%>" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">副标题</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="subtitle" data-placeholder="" placeholder="副标题，不填则不显示" value="<%params.subtitle%>" />
        </div>
    </div>
    <%/if%>
    <%if params.playerstyle==1%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">头像设置</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="headtype" value="0" class="diy-bind" data-bind-child="params" data-bind="headtype" data-bind-init="true" <%if params.headtype=='0'||!params.headtype%>checked="checked"<%/if%>> 自定义</div>
            <div class="radio radio-primary"><input type="radio" name="headtype" value="1" class="diy-bind" data-bind-child="params" data-bind="headtype" data-bind-init="true" <%if params.headtype=='1'%>checked="checked"<%/if%>> 商城logo</div>
        </div>
    </div>
    <%if params.headtype==0||!params.headtype%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">选择头像</div>
        <div class="col-sm-10">
            <div class="input-group input-group-sm">
                <input class="form-control diy-bind" placeholder="请点击右侧按钮选择图片" value="<%params.headurl%>" name="headurl" data-bind-child="params" data-bind="headurl" id="headurl" />
                <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectImg" data-input="#headurl">选择图片</span>
            </div>
            <div class="help-block">提示：如果自定义头像为空则也将显示商城logo</div>
        </div>
    </div>
    <%/if%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">头像位置</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="headalign" value="left" class="diy-bind" data-bind-child="params" data-bind="headalign" <%if params.headalign=='left'||!params.headalign%>checked="checked"<%/if%>> 居左</div>
            <div class="radio radio-primary"><input type="radio" name="headalign" value="right" class="diy-bind" data-bind-child="params" data-bind="headalign" <%if params.headalign=='right'%>checked="checked"<%/if%>> 居右</div>
        </div>
    </div>
    <%/if%>
    <div class="line"></div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下间距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingtop%>" data-min="10" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingtop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingtop" value="<%style.paddingtop%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">左右间距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.paddingleft%>" data-min="10" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.paddingleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="paddingleft" value="<%style.paddingleft%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">消息宽度</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.width||'80'%>" data-min="80" data-max="180"></div>
                <div class="col-sm-4 control-labe count"><span><%style.width||'80'%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="width" value="<%style.width||'80'%>" type="hidden" />
            </div>
            <div class="help-block">提示：可根据消息的不同长度设置不同的宽度</div>
        </div>
    </div>
    <%if params.playerstyle=='0'||!params.playerstyle%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#f1f1f1').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">边框颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="bordercolor" value="<%style.bordercolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ededed').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">标题颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="textcolor" value="<%style.textcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#333333').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">副标题颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="subtitlecolor" value="<%style.subtitlecolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">时间颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="timecolor" value="<%style.timecolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <%/if%>
    <div class="line"></div>
    <div class="form-group row" style="display: none;">
        <div class="col-sm-2 control-label">自动播放</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="autoplay" value="0" class="diy-bind" data-bind-child="params" data-bind="autoplay" <%if params.autoplay=='0'||!params.autoplay%>checked="checked"<%/if%>> 关闭</div>
            <div class="radio radio-primary"><input type="radio" name="autoplay" value="1" class="diy-bind" data-bind-child="params" data-bind="autoplay" <%if params.autoplay=='1'%>checked="checked"<%/if%>> 启用</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">循环播放</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="loopplay" value="0" class="diy-bind" data-bind-child="params" data-bind="loopplay" <%if params.loopplay=='0'||!params.loopplay%>checked="checked"<%/if%>> 关闭</div>
            <div class="radio radio-primary"><input type="radio" name="loopplay" value="1" class="diy-bind" data-bind-child="params" data-bind="loopplay" <%if params.loopplay=='1'%>checked="checked"<%/if%>> 启用</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">播放设置</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="pausestop" value="0" class="diy-bind" data-bind-child="params" data-bind="pausestop" <%if params.pausestop=='0'||!params.pausestop%>checked="checked"<%/if%>> 暂停后再恢复播放时，继续播放</div>
            <div class="radio radio-primary"><input type="radio" name="pausestop" value="1" class="diy-bind" data-bind-child="params" data-bind="pausestop" <%if params.pausestop=='1'%>checked="checked"<%/if%>> 暂停后再恢复播放时，从头播放</div>
        </div>
    </div>
    <div class="alert alert-primary" style="margin-bottom: 0;">提示：编辑页面播放只提供播放/停止功能，更多动画、功能请在手机端查看</div>
</script>

<script type="text/html" id="tpl_edit_coupon">
    <div class="form-group row">
        <div class="col-sm-2 control-label">上下边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.margintop%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.margintop%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="margintop" value="<%style.margintop%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">左右边距</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8" data-value="<%style.marginleft%>" data-min="0" data-max="50"></div>
                <div class="col-sm-4 control-labe count"><span><%style.marginleft%></span>px(像素)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="marginleft" value="<%style.marginleft%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">选择样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="couponstyle" value="2" class="diy-bind" data-bind-child="params" data-bind="couponstyle" data-bind-init="true" <%if params.couponstyle=='2'%>checked="checked"<%/if%>> 每行2个</div>
            <div class="radio radio-primary"><input type="radio" name="couponstyle" value="3" class="diy-bind" data-bind-child="params" data-bind="couponstyle" data-bind-init="true" <%if params.couponstyle=='3'%>checked="checked"<%/if%> > 每行3个</div>
        </div>
    </div>
    <div class="line"></div>

    <div class="form-items indent" data-min="1">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image square drag-btn square" style="height: 110px; line-height: 110px;">拖动排序</div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <div class="input-group-append"><span class="input-group-text">优惠券</span></div>
                        <input class="form-control input-sm diy-bind" value="<%child.name||'未设置'%>" readonly="readonly" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="price" />
                        <span class="input-group-addon btn btn-pill btn-primary coupon-selector">选择</span>
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px;">
                        <div class="input-group-append"><span class="input-group-text">价值</span></div>
                        <input class="form-control input-sm diy-bind" value="<%child.price%>" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="price" readonly />
                        <span class="input-group-addon" style="border-left: 0; border-right: 0;">使用条件</span>
                        <input class="form-control input-sm diy-bind" value="<%child.desc%>" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="desc" readonly />
                    </div>
                    <div class="input-group " style="margin-top:10px; margin-bottom:0px; ">
                        <div class="input-group-append"><span class="input-group-text">色调</span></div>
                        <span class="form-control input-sm" style="padding-top: 0;">
                            <label class="radio-inline">
                                <input type="radio" name="couponcolor-<%itemid%>" value="#55b5ff" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="couponcolor" <%if child.couponcolor=='#55b5ff'||!child.couponcolor%>checked<%/if%>> 蓝</label>
                            <label class="radio-inline">
                                <input type="radio" name="couponcolor-<%itemid%>" value="#ff5555" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="couponcolor" <%if child.couponcolor=='#ff5555'%>checked<%/if%>> 红</label>
                            <label class="radio-inline">
                                <input type="radio" name="couponcolor-<%itemid%>" value="#ff913f" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="couponcolor" <%if child.couponcolor=='#ff913f'%>checked<%/if%>> 橙</label>
                            <label class="radio-inline">
                                <input type="radio" name="couponcolor-<%itemid%>" value="#fd72d4" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="couponcolor" <%if child.couponcolor=='#fd72d4'%>checked<%/if%>> 粉</label>
                        </span>
                        <!--
                        <input class="form-control input-sm color diy-bind" value="<%child.textcolor%>" type="color" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="textcolor" />
                        <span class="input-group-addon" style="border-left: 0; border-right: 0;">边框</span>
                        <input class="form-control input-sm color diy-bind" value="<%child.bordercolor%>" type="color" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="bordercolor" />
                        <span class="input-group-addon" style="border-left: 0; border-right: 0;">背景</span>
                        <input class="form-control input-sm color diy-bind" value="<%child.background%>" type="color" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="background" />-->
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_fixedsearch">
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#000000').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">透明度</div>
        <div class="col-sm-10">
            <div class="form-group row">
                <div class="slider col-sm-8 " data-value="<%style.opacity%>" data-min="0" data-max="10" data-decimal="10"></div>
                <div class="col-sm-4 control-labe count"><span><%style.opacity%></span>(最大是1)</div>
                <input class="diy-bind input" data-bind-child="style" data-bind="opacity" value="<%style.opacity%>" type="hidden" />
            </div>
        </div>
    </div>
    <div class="line"></div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">左侧按钮</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="leftnav" value="0" class="diy-bind" data-bind-child="params" data-bind="leftnav" data-bind-init="true" <%if params.leftnav=='0'||!params.leftnav%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="leftnav" value="1" class="diy-bind" data-bind-child="params" data-bind="leftnav" data-bind-init="true" <%if params.leftnav=='1'%>checked="checked"<%/if%> > 图标</div>
            <div class="radio radio-primary"><input type="radio" name="leftnav" value="2" class="diy-bind" data-bind-child="params" data-bind="leftnav" data-bind-init="true" <%if params.leftnav=='2'%>checked="checked"<%/if%> > 图片</div>
        </div>
    </div>
    <%if params.leftnav==1%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">图标设置</div>
            <div class="col-sm-7">
                <div class="input-group input-group-sm">
                    <span class="form-control" style="line-height: 28px; text-align: center; width: 40px;"><i class="icon <%params.leftnavicon||'icon-shop'%>" id="showleftnavicon"></i></span>
                    <span data-input="#leftnavicon" data-element="#showleftnavicon" data-toggle="selectIcon" class="input-group-addon btn btn-pill btn-primary">选择图标</span>
                    <input type="hidden" class="diy-bind" data-bind-child="params" data-bind="leftnavicon" value="<%params.leftnavicon%>" id="leftnavicon" />
                    <div class="input-group-addon" style="border-left: 0; border-right: 0;">图标颜色</div>
                    <input class="form-control color diy-bind" type="color" style="width: 80px;" data-bind-child="style" data-bind="leftnavcolor" value="<%style.leftnavcolor%>"  />
                </div>
            </div>
        </div>
    <%/if%>
    <%if params.leftnav==2%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">选择图片</div>
            <div class="col-sm-10">
                <div class="input-group">
                    <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="leftnavimg" value="<%params.leftnavimg%>" id="leftnavimg" />
                    <span data-input="#leftnavimg" data-img="#showleftnavimg" data-toggle="selectImg" class="input-group-addon btn btn-pill btn-primary">选择图片</span>
                </div>
                <div class="input-group " style="margin-top:.5em;">
                    <img src="<%imgsrc params.leftnavimg%>"  class="img-responsive img-thumbnail" style="height: 50px; background: #eee;" id="showleftnavimg">
                    <em class="close" style="position:absolute; top: 0px;" title="删除这张图片" onclick="$('#leftnavimg').val('').trigger('change');$(this).prev().attr('src', '')">×</em>
                </div>
            </div>
        </div>
    <%/if%>
    <%if params.leftnav==1||params.leftnav==2%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">选择链接</div>
            <div class="col-sm-10">
                <div class="input-group input-group-sm">
                    <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="leftnavlink"  value="<%params.leftnavlink%>" id="leftnavlink" />
                    <span data-input="#leftnavlink" data-toggle="selectUrl" class="input-group-addon btn btn-pill btn-primary">选择链接</span>
                </div>
            </div>
        </div>
    <%/if%>
    <div class="line"></div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">右侧按钮</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="rightnav" value="0" class="diy-bind" data-bind-child="params" data-bind="rightnav" data-bind-init="true" <%if params.rightnav=='0'||!params.rightnav%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="rightnav" value="1" class="diy-bind" data-bind-child="params" data-bind="rightnav" data-bind-init="true" <%if params.rightnav=='1'%>checked="checked"<%/if%> > 图标</div>
            <div class="radio radio-primary"><input type="radio" name="rightnav" value="2" class="diy-bind" data-bind-child="params" data-bind="rightnav" data-bind-init="true" <%if params.rightnav=='2'%>checked="checked"<%/if%> > 图片</div>
        </div>
    </div>
    <%if params.rightnav==1%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">选择图标</div>
            <div class="col-sm-7">
                <div class="input-group input-group-sm">
                    <span class="form-control" style="line-height: 28px; text-align: center; width: 40px;"><i class="icon <%params.rightnavicon||'icon-shop'%>" id="showrightnavicon"></i></span>
                    <span data-input="#rightnavicon" data-element="#showrightnavicon" data-toggle="selectIcon" class="input-group-addon btn btn-pill btn-primary">选择图标</span>
                    <input type="hidden" class="diy-bind" data-bind-child="params" data-bind="rightnavicon" value="<%params.rightnavicon%>" id="rightnavicon" />
                    <div class="input-group-addon" style="border-left: 0; border-right: 0;">图标颜色</div>
                    <input class="form-control color diy-bind" type="color" style="width: 80px;" data-bind-child="style" data-bind="rightnavcolor" value="<%style.rightnavcolor%>"  />
                </div>
            </div>
        </div>
    <%/if%>
    <%if params.rightnav==2%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">选择图片</div>
            <div class="col-sm-10">
                <div class="input-group">
                    <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="rightnavimg"  value="<%params.rightnavimg%>" id="rightnavimg" />
                    <span data-input="#rightnavimg" data-img="#showrightnavimg" data-toggle="selectImg" class="input-group-addon btn btn-pill btn-primary">选择图片</span>
                </div>
                <div class="input-group " style="margin-top:.5em;">
                    <img src="<%imgsrc params.rightnavimg%>"  class="img-responsive img-thumbnail" style="height: 50px; background: #eee;" id="showrightnavimg">
                    <em class="close" style="position:absolute; top: 0px;" title="删除这张图片" onclick="$('#rightnavimg').val('').trigger('change');$(this).prev().attr('src', '')">×</em>
                </div>
            </div>
        </div>
    <%/if%>
    <%if params.rightnav==1||params.rightnav==2%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">点击事件</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="rightnavclick" value="0" class="diy-bind" data-bind-child="params" data-bind="rightnavclick" data-bind-init="true" <%if params.rightnavclick=='0'||!params.rightnavclick%>checked="checked"<%/if%>> 跳转链接</div>
                <div class="radio radio-primary"><input type="radio" name="rightnavclick" value="1" class="diy-bind" data-bind-child="params" data-bind="rightnavclick" data-bind-init="true" <%if params.rightnavclick=='1'%>checked="checked"<%/if%>> 提交搜索</div>
            </div>
        </div>
        <%if params.rightnavclick=='0'||!params.rightnavclick%>
            <div class="form-group row">
                <div class="col-sm-2 control-label">选择链接</div>
                <div class="col-sm-10">
                    <div class="input-group input-group-sm">
                        <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="rightnavlink"  value="<%params.rightnavlink%>" id="rightnavlink" />
                        <span data-input="#rightnavlink" data-toggle="selectUrl" class="input-group-addon btn btn-pill btn-primary">选择链接</span>
                    </div>
                </div>
            </div>
        <%/if%>
    <%/if%>
    <div class="line"></div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索框背景</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="searchbackground" value="<%style.searchbackground%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索文字颜色</div>
        <div class="col-sm-10">
            <div class="input-group input-group-sm" style="width: 127px;">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="searchtextcolor" value="<%style.searchtextcolor%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
            <div class="help-block">提示：此处是搜索文字颜色并不是提示文字颜色</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索框样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="" class="diy-bind" data-bind-child="params" data-bind="searchstyle"<%if params.searchstyle==''||!params.searchstyle%>checked="checked"<%/if%>> 直角</div>
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="round" class="diy-bind" data-bind-child="params" data-bind="searchstyle"<%if params.searchstyle=='round'%>checked="checked"<%/if%> > 圆弧</div>
            <div class="radio radio-primary"><input type="radio" name="searchstyle" value="circle" class="diy-bind" data-bind-child="params" data-bind="searchstyle" <%if params.searchstyle=='circle'%>checked="checked"<%/if%> > 圆角</div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">搜索提示文字</div>
        <div class="col-sm-10">
            <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="placeholder" value="<%params.placeholder%>" data-placeholder="请输入关键字进行搜索" placeholder="请输入关键字进行搜索" />
        </div>
    </div>
    <div class="alert alert-danger" style="margin-bottom: 0;">注意：由于搜索框固定在页面顶部，有可能遮挡底层元素，建议页面首个元素放置幻灯片等较高高度的元素。</div>
</script>

<script type="text/html" id="tpl_edit_tabbar">
    <div class="alert alert-primary">提示：当访问页面链接等于选项卡中的链接时高亮, 选项卡个数超过三个自动滚动</div>
    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color">
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
        <div class="col-sm-2 control-label">文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="color" value="<%style.color%>" type="color">
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#666666').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">激活背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="activebackground" value="<%style.activebackground%>" type="color">
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ffffff').trigger('propertychange')">重置</span>
            </div>
        </div>
        <div class="col-sm-2 control-label">激活文字颜色</div>
        <div class="col-sm-4">
            <div class="input-group input-group-sm">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="activecolor" value="<%style.activecolor%>" type="color">
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ef4f4f').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>
    <div class="line"></div>
    <div class="form-items indent" data-min="1" data-max="8">
        <div class="inner" id="form-items">
            <%each data as child itemid %>
            <div class="item" data-id="<%itemid%>">
                <span class="btn-del" title="删除"></span>
                <div class="item-image square drag-btn square" style="height: 70px; line-height: 70px;">拖动排序</div>
                <div class="item-form">
                    <div class="input-group" style="margin-bottom:0px; ">
                        <div class="input-group-append"><span class="input-group-text">选项卡文字</span></div>
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="text" placeholder="请输入选项卡文字最大5字" value="<%child.text%>" maxlength="5" />
                    </div>
                    <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                        <input type="text" class="form-control input-sm diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="linkurl" id="curl-<%itemid%>" placeholder="请选择链接或输入链接地址" value="<%child.linkurl%>" />
                        <span class="input-group-addon btn btn-pill btn-primary" data-toggle="selectUrl" data-input="#curl-<%itemid%>">选择链接</span>
                    </div>
                </div>
            </div>
            <%/each%>
        </div>
        <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
    </div>
</script>

<script type="text/html" id="tpl_edit_goods">
    <div class="form-group row">
        <div class="col-sm-2 control-label">商品类型</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="goodstype" value="0" class="diy-bind" data-bind-child="params" data-bind="goodstype" data-bind-init="true" <%if params.goodstype=='0'||!params.goodstype%>checked="checked"<%/if%>> 商城商品</div>
            <%if (merch==0||!merch)&&plugins.creditshop==1%>
            <div class="radio radio-primary"><input type="radio" name="goodstype" value="1" class="diy-bind" data-bind-child="params" data-bind="goodstype" data-bind-init="true" <%if params.goodstype=='1'%>checked="checked"<%/if%> > 拼团商品</div>
            <%/if%>
            <div class="help-block text-danger">注意：选择好商品类型后尽量不要更改</div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">显示类型</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="goodsscroll" value="0" class="diy-bind" data-bind-child="params" data-bind="goodsscroll" data-bind-init="true" <%if params.goodsscroll=='0'||!params.goodsscroll%>checked="checked"<%/if%>> 普通模式</div>
            <%if style.liststyle!=''%>
            <div class="radio radio-primary"><input type="radio" name="goodsscroll" value="1" class="diy-bind" data-bind-child="params" data-bind="goodsscroll" data-bind-init="true" <%if params.goodsscroll=='1'%>checked="checked"<%/if%> > 单行滑动模式</div>
            <%/if%>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">列表样式</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="liststyle" value="block one" class="diy-bind" data-bind-child="style" data-bind="liststyle" data-bind-init="true" <%if style.liststyle=='block one'%>checked="checked"<%/if%> > 单列显示</div>
            <div class="radio radio-primary"><input type="radio" name="liststyle" value="block" class="diy-bind" data-bind-child="style" data-bind="liststyle" data-bind-init="true" <%if style.liststyle=='block'%>checked="checked"<%/if%>> 双列显示</div>
            <%if params.goodstype==0||!params.goodstype%>
                <div class="radio radio-primary"><input type="radio" name="liststyle" value="block three" class="diy-bind" data-bind-child="style" data-bind="liststyle" data-bind-init="true" <%if style.liststyle=='block three'%>checked="checked"<%/if%>> 三列显示</div>
            <%/if%>
            <%if params.goodsscroll=='0'||!params.goodsscroll%>
            <div class="radio radio-primary"><input type="radio" name="liststyle" value="" class="diy-bind" data-bind-child="style" data-bind="liststyle" data-bind-init="true" <%if style.liststyle==''%>checked="checked"<%/if%>> 列表显示</div>
            <%/if%>

            <%if style.liststyle=='block three' && params.goodstype!=1%>
                <div class="help-block text-danger">提示："三列显示商品"显示商品原价及销量可能会造成样式错乱</div>
            <%/if%>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">背景颜色</div>
        <div class="col-sm-4">
            <div class="input-group">
                <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="background" value="<%style.background%>" type="color" />
                <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#f3f3f3').trigger('propertychange')">重置</span>
            </div>
        </div>
    </div>

    <div class="line"></div>

    <%if params.goodstype==1%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">商品标签</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="showtag" value="0" class="diy-bind" data-bind-child="params" data-bind="showtag" data-bind-init="true" <%if params.showtag=='0'||!params.showtag%>checked="checked"<%/if%>> 不显示</div>
                <div class="radio radio-primary"><input type="radio" name="showtag" value="1" class="diy-bind" data-bind-child="params" data-bind="showtag" data-bind-init="true" <%if params.showtag=='1'%>checked="checked"<%/if%>> 原价</div>
                <div class="radio radio-primary"><input type="radio" name="showtag" value="2" class="diy-bind" data-bind-child="params" data-bind="showtag" data-bind-init="true" <%if params.showtag=='2'%>checked="checked"<%/if%> > 商品类型</div>
                <div class="radio radio-primary"><input type="radio" name="showtag" value="3" class="diy-bind" data-bind-child="params" data-bind="showtag" data-bind-init="true" <%if params.showtag=='3'%>checked="checked"<%/if%> > 活动类型</div>
                <div class="help-block">商品类型: 商品、优惠券、红包、余额 活动类型: 兑换、抽奖</div>
            </div>
        </div>

        <%if params.showtag>0%>
            <div class="form-group row">
                <div class="col-sm-2 control-label">标签背景</div>
                <div class="col-sm-4">
                    <div class="input-group">
                        <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="tagbackground" value="<%style.tagbackground%>" type="color" />
                        <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#fe5455').trigger('propertychange')">重置</span>
                    </div>
                </div>
            </div>
        <%/if%>
    <%/if%>

    <div class="form-group row">
        <div class="col-sm-2 control-label">商品名称</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showtitle" value="0" class="diy-bind" data-bind-child="params" data-bind="showtitle" <%if params.showtitle=='0'%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="showtitle" value="1" class="diy-bind" data-bind-child="params" data-bind="showtitle" <%if params.showtitle=='1'%>checked="checked"<%/if%> > 显示</div>
        </div>
    </div>

    <%if params.showtitle=='1'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">名称颜色</div>
            <div class="col-sm-4">
                <div class="input-group">
                    <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="titlecolor" value="<%style.titlecolor%>" type="color" />
                    <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#000000').trigger('propertychange')">重置</span>
                </div>
            </div>
        </div>
    <%/if%>

    <div class="form-group row">
        <div class="col-sm-2 control-label">商品价格</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showprice" value="0" class="diy-bind" data-bind-child="params" data-bind="showprice" data-bind-init="true" <%if params.showprice=='0'||!params.showprice%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="showprice" value="1" class="diy-bind" data-bind-child="params" data-bind="showprice" data-bind-init="true" <%if params.showprice=='1'%>checked="checked"<%/if%> > 显示</div>
        </div>
    </div>

    <%if params.showprice=='1'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">价格颜色</div>
            <div class="col-sm-4">
                <div class="input-group">
                    <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="pricecolor" value="<%style.pricecolor%>" type="color" />
                    <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ff5555').trigger('propertychange')">重置</span>
                </div>
            </div>
        </div>

        <%if params.goodstype=='0'||!params.goodstype%>
            <div class="form-group row">
                <div class="col-sm-2 control-label">商品原价</div>
                <div class="col-sm-10">
                    <div class="radio radio-primary"><input type="radio" name="showproductprice" value="0" class="diy-bind" data-bind-child="params" data-bind="showproductprice" data-bind-init="true" <%if params.showproductprice=='0'||!params.showproductprice%>checked="checked"<%/if%>> 不显示</div>
                    <div class="radio radio-primary"><input type="radio" name="showproductprice" value="1" class="diy-bind" data-bind-child="params" data-bind="showproductprice" data-bind-init="true" <%if params.showproductprice=='1'%>checked="checked"<%/if%> > 显示</div>
                </div>
            </div>

            <%if params.showproductprice==1%>
                <div class="form-group row">
                    <div class="col-sm-2 control-label">原价颜色</div>
                    <div class="col-sm-4">
                        <div class="input-group">
                            <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="productpricecolor" value="<%style.productpricecolor%>" type="color" />
                            <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#999999').trigger('propertychange')">重置</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-2 control-label">原价文字</div>
                    <div class="col-sm-10">
                        <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="productpricetext" value="<%params.productpricetext||'原价'%>" style="width: 128px;" />
                        <div class="help-block">提示：建议在三字以内</div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-2 control-label">原价删除线</div>
                    <div class="col-sm-10">
                        <div class="radio radio-primary"><input type="radio" name="productpriceline" value="0" class="diy-bind" data-bind-child="params" data-bind="productpriceline" <%if params.productpriceline=='0'||!params.productpriceline%>checked="checked"<%/if%>> 不显示</div>
                        <div class="radio radio-primary"><input type="radio" name="productpriceline" value="1" class="diy-bind" data-bind-child="params" data-bind="productpriceline" <%if params.productpriceline=='1'%>checked="checked"<%/if%> > 显示</div>
                    </div>
                </div>
                <div class="line"></div>
            <%/if%>

            <div class="form-group row">
                <div class="col-sm-2 control-label">商品销量</div>
                <div class="col-sm-10">
                    <div class="radio radio-primary"><input type="radio" name="showsales" value="0" class="diy-bind" data-bind-child="params" data-bind="showsales" data-bind-init="true" <%if params.showsales=='0'||!params.showsales%>checked="checked"<%/if%>> 不显示</div>
                    <div class="radio radio-primary"><input type="radio" name="showsales" value="1" class="diy-bind" data-bind-child="params" data-bind="showsales" data-bind-init="true" <%if params.showsales=='1'%>checked="checked"<%/if%> > 显示</div>
                </div>
            </div>

            <%if params.showsales==1%>
                <div class="form-group row">
                    <div class="col-sm-2 control-label">销量颜色</div>
                    <div class="col-sm-4">
                        <div class="input-group">
                            <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="salescolor" value="<%style.salescolor%>" type="color" />
                            <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#999999').trigger('propertychange')">重置</span>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-2 control-label">销量文字</div>
                    <div class="col-sm-10">
                        <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="salestext" value="<%params.salestext||'销量'%>" style="width: 128px;" />
                        <div class="help-block">提示：建议在三字以内</div>
                    </div>
                </div>
                <div class="line"></div>
            <%/if%>
        <%/if%>
    <%/if%>

    <%if params.showprice=='1' && (params.goodstype=='0'||!params.goodstype)%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">购买按钮</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle==''%>checked="checked"<%/if%> > 不显示</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-1" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-1'%>checked="checked"<%/if%>> 样式一</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-2" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-2'%>checked="checked"<%/if%>> 样式二</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-3" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-3'%>checked="checked"<%/if%>> 样式三</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-4" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-4'%>checked="checked"<%/if%>> 样式四</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-5" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-5'%>checked="checked"<%/if%>> 样式五</div>
                <div class="radio radio-primary"><input type="radio" name="buystyle" value="buybtn-6" class="diy-bind" data-bind-child="style" data-bind="buystyle" data-bind-init="true" <%if style.buystyle=='buybtn-6'%>checked="checked"<%/if%>> 样式六</div>
            </div>
        </div>
    <%/if%>

    <%if ((params.goodstype=='0'||!params.goodstype) && params.showprice=='1' && style.buystyle!='') || (params.goodstype=='1') && params.showprice=='1'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">按钮颜色</div>
            <div class="col-sm-10">
                <div class="input-group" style="width: 130px;">
                    <input class="form-control input-sm diy-bind color" data-bind-child="style" data-bind="buybtncolor" value="<%style.buybtncolor%>" type="color" />
                    <span class="input-group-addon btn btn-pill btn-primary" onclick="$(this).prev().val('#ff5555').trigger('propertychange')">重置</span>
                </div>
                <small>砍价商品不支持自定义按钮样式，仅支持自定义按钮颜色</small>
            </div>
        </div>
    <%/if%>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">商品图标</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="showicon" value="0" class="diy-bind" data-bind-child="params" data-bind="showicon" data-bind-init="true" <%if params.showicon=='0'%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="showicon" value="1" class="diy-bind" data-bind-child="params" data-bind="showicon" data-bind-init="true" <%if params.showicon=='1'%>checked="checked"<%/if%> > 系统图标</div>
            <div class="radio radio-primary"><input type="radio" name="showicon" value="2" class="diy-bind" data-bind-child="params" data-bind="showicon" data-bind-init="true" <%if params.showicon=='2'%>checked="checked"<%/if%> > 自定义</div>
        </div>
    </div>

    <%if params.showicon=='2'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">自定义图标</div>
            <div class="col-sm-10">
                <div class="input-group">
                    <input class="form-control input-sm diy-bind" data-bind-child="params" data-bind="goodsiconsrc" placeholder="请输入图片地址或选择图片" value="<%params.goodsiconsrc%>" id="goodsiconsrc" />
                    <span data-input="#goodsiconsrc" data-img="#goodsicon" data-toggle="selectImg" class="input-group-addon btn btn-pill btn-primary">选择图片</span>
                </div>
                <div class="input-group " style="margin-top:.5em;">
                    <img src="<%imgsrc params.goodsiconsrc%>"  class="img-responsive img-thumbnail" id="goodsicon" style="width: 60px; height: 60px;">
                    <em class="close" style="position:absolute; top: 0px;" title="删除这张图片" onclick="$('#goodsiconsrc').val('').trigger('change');$(this).prev().attr('src', '')">×</em>
                </div>
            </div>
        </div>
    <%/if%>

    <%if params.showicon=='1'%>

        <div class="form-group row">
            <div class="col-sm-2 control-label">图标样式</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="goodsiconstyle" value="triangle" class="diy-bind" data-bind-child="style" data-bind="iconstyle" <%if style.iconstyle=='triangle'%>checked="checked"<%/if%>> 样式一</div>
                <div class="radio radio-primary"><input type="radio" name="goodsiconstyle" value="circle" class="diy-bind" data-bind-child="style" data-bind="iconstyle" <%if style.iconstyle=='circle'%>checked="checked"<%/if%>> 样式二</div>
                <div class="radio radio-primary"><input type="radio" name="goodsiconstyle" value="square" class="diy-bind" data-bind-child="style" data-bind="iconstyle" <%if style.iconstyle=='square'%>checked="checked"<%/if%>> 样式三</div>
                <div class="radio radio-primary"><input type="radio" name="goodsiconstyle" value="echelon" class="diy-bind" data-bind-child="style" data-bind="iconstyle" <%if style.iconstyle=='echelon'%>checked="checked"<%/if%>> 样式四</div>
                <div class="radio radio-primary"><input type="radio" name="goodsiconstyle" value="rectangle" class="diy-bind" data-bind-child="style" data-bind="iconstyle" <%if style.iconstyle=='rectangle'%>checked="checked"<%/if%>> 样式五</div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-2 control-label">图标属性</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="recommand" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='recommand'%>checked="checked"<%/if%>> 推荐</div>
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="hotsale" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='hotsale'%>checked="checked"<%/if%>> 热销</div>
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="isnew" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='isnew'%>checked="checked"<%/if%>> 新上</div>
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="sendfree" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='sendfree'%>checked="checked"<%/if%>> 包邮</div>
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="istime" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='istime'%>checked="checked"<%/if%>> 限时卖</div>
                <div class="radio radio-primary"><input type="radio" name="goodsicon" value="bigsale" class="diy-bind" data-bind-child="style" data-bind="goodsicon" <%if style.goodsicon=='bigsale'%>checked="checked"<%/if%>> 促销</div>
            </div>
        </div>
    <%/if%>

    <%if params.showicon=='2'%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">图标位置</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="iconposition" value="left top" class="diy-bind" data-bind-child="params" data-bind="iconposition" data-bind-init="true" <%if params.iconposition=='left top'%>checked="checked"<%/if%>> 左上</div>
                <div class="radio radio-primary"><input type="radio" name="iconposition" value="right top" class="diy-bind" data-bind-child="params" data-bind="iconposition" data-bind-init="true" <%if params.iconposition=='right top'%>checked="checked"<%/if%> > 右上</div>
                <div class="radio radio-primary"><input type="radio" name="iconposition" value="left bottom" class="diy-bind" data-bind-child="params" data-bind="iconposition" data-bind-init="true" <%if params.iconposition=='left bottom'%>checked="checked"<%/if%> > 左下</div>
                <div class="radio radio-primary"><input type="radio" name="iconposition" value="right bottom" class="diy-bind" data-bind-child="params" data-bind="iconposition" data-bind-init="true" <%if params.iconposition=='right bottom'%>checked="checked"<%/if%> > 右下</div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-2 control-label">上下偏移</div>
            <div class="col-sm-10">
                <div class="form-group row">
                    <div class="slider col-sm-8" data-value="<%style.iconpaddingtop%>" data-min="0" data-max="30"></div>
                    <div class="col-sm-4 control-labe count"><span><%style.iconpaddingtop%></span>px(像素)</div>
                    <input class="diy-bind input" data-bind-child="style" data-bind="iconpaddingtop" value="<%style.iconpaddingtop%>" type="hidden" />
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-2 control-label">左右偏移</div>
            <div class="col-sm-10">
                <div class="form-group row">
                    <div class="slider col-sm-8" data-value="<%style.iconpaddingleft%>" data-min="0" data-max="30"></div>
                    <div class="col-sm-4 control-labe count"><span><%style.iconpaddingleft%></span>px(像素)</div>
                    <input class="diy-bind input" data-bind-child="style" data-bind="iconpaddingleft" value="<%style.iconpaddingleft%>" type="hidden" />
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-2 control-label">图标缩放</div>
            <div class="col-sm-10">
                <div class="form-group row">
                    <div class="slider col-sm-8" data-value="<%style.iconzoom%>" data-min="1" data-max="100"></div>
                    <div class="col-sm-4 control-labe count"><span><%style.iconzoom%></span>%</div>
                    <input class="diy-bind input" data-bind-child="style" data-bind="iconzoom" value="<%style.iconzoom%>" type="hidden" />
                </div>
            </div>
        </div>

    <%/if%>

    <div class="line"></div>

    <div class="form-group row">
        <div class="col-sm-2 control-label">售罄图标</div>
        <div class="col-sm-10">
            <div class="radio radio-primary"><input type="radio" name="saleout" value="-1" class="diy-bind" data-bind-child="params" data-bind="saleout" data-bind-init="true" <%if params.saleout=='-1'%>checked="checked"<%/if%>> 不显示</div>
            <div class="radio radio-primary"><input type="radio" name="saleout" value="1" class="diy-bind" data-bind-child="params" data-bind="saleout" data-bind-init="true" <%if params.saleout=='1'%>checked="checked"<%/if%> > 内置图标</div>
            <div class="radio radio-primary"><input type="radio" name="saleout" value="0" class="diy-bind" data-bind-child="params" data-bind="saleout" data-bind-init="true" <%if params.saleout=='0'||!params.saleout%>checked="checked"<%/if%> > 读取系统设置</div>
        </div>
    </div>
    <%if params.saleout==1%>
    <div class="form-group row">
        <div class="col-sm-2 control-label">图标样式</div>
        <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="saleoutstyle" value="1" class="diy-bind" data-bind-child="style" data-bind="saleoutstyle" data-bind-init="true" <%if style.saleoutstyle=='1'%>checked="checked"<%/if%>> 样式一</div>
                <div class="radio radio-primary"><input type="radio" name="saleoutstyle" value="2" class="diy-bind" data-bind-child="style" data-bind="saleoutstyle" data-bind-init="true" <%if style.saleoutstyle=='2'%>checked="checked"<%/if%>> 样式二</div>
                <div class="radio radio-primary"><input type="radio" name="saleoutstyle" value="3" class="diy-bind" data-bind-child="style" data-bind="saleoutstyle" data-bind-init="true" <%if style.saleoutstyle=='3'%>checked="checked"<%/if%>> 样式三</div>
        </div>
    </div>
    <%/if%>

    <div class="line"></div>

    <%if params.goodsdata=='0'%>
        <div class="form-items indent" data-min="1">
            <div class="inner" id="form-items">
                <%each data as child itemid %>
                <div class="item" data-id="<%itemid%>">
                    <span class="btn-del" title="删除"></span>
                    <div class="item-image square">
                        <div class="text goods-selector" data-goodstype="<%params.goodstype%>">选择商品</div>
                        <img src="<%imgsrc child.thumb%>"  id="pimg-<%itemid%>" />
                        <input type="hidden" class="diy-bind" data-bind-parent="data" data-bind-child="<%itemid%>" data-bind="imgurl"  id="cimg-<%itemid%>" value="<%child.imgurl%>" />
                    </div>
                    <div class="item-form">
                        <div class="input-group" style="margin-bottom:0px; ">
                            <div class="input-group-append"><span class="input-group-text">名称</span></div>
                            <input class="form-control input-sm" value="<%child.title||'未设置'%>" readonly="readonly" />
                        </div>
                        <%if params.goodstype==0||!params.goodstype%>
                            <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                                <div class="input-group-append"><span class="input-group-text">价格</span></div>
                                <input class="form-control input-sm" value="¥<%child.price%>" readonly="readonly" />
                            </div>
                        <%else%>
                            <div class="input-group" style="margin-top:10px; margin-bottom:0px; ">
                                <div class="input-group-append"><span class="input-group-text">价格</span></div>
                                <input class="form-control input-sm" value="<%child.price%>" readonly="readonly" />
                                <span class="input-group-addon" style="border-left: 0; border-right: 0;">元</span>
                                <input style="display:none;" class="form-control input-sm" value="<%child.credit%>" readonly="readonly" />
                                <span style="display:none;" class="input-group-addon">积分</span>
                            </div>
                        <%/if%>
                    </div>
                </div>
                <%/each%>
            </div>
            <div class="btn btn-w-m btn-block btn-default btn-outline" id="addChild"><i class="fa fa-plus"></i> 添加一个</div>
        </div>
    <%/if%>

    <%if params.goodsdata>0%>
        <div class="form-group row">
            <div class="col-sm-2 control-label">商品排序</div>
            <div class="col-sm-10">
                <div class="radio radio-primary"><input type="radio" name="goodssort" value="0" class="diy-bind" data-bind-child="params" data-bind="goodssort" <%if params.goodssort=='0'%>checked="checked"<%/if%>> 综合</div>
                <div class="radio radio-primary"><input type="radio" name="goodssort" value="1" class="diy-bind" data-bind-child="params" data-bind="goodssort" <%if params.goodssort=='1'%>checked="checked"<%/if%> > 按销量</div>
                <div class="radio radio-primary"><input type="radio" name="goodssort" value="2" class="diy-bind" data-bind-child="params" data-bind="goodssort" <%if params.goodssort=='2'%>checked="checked"<%/if%> > 价格降序</div>
                <div class="radio radio-primary"><input type="radio" name="goodssort" value="3" class="diy-bind" data-bind-child="params" data-bind="goodssort" <%if params.goodssort=='3'%>checked="checked"<%/if%> > 价格升序</div>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-2 control-label">显示数量</div>
            <div class="col-sm-10">
                <div class="form-group row">
                    <div class="slider col-sm-8" data-value="<%params.goodsnum%>" data-min="1" data-max="20"></div>
                    <div class="col-sm-4 control-labe count"><span><%params.goodsnum%></span>个</div>
                    <input class="diy-bind input" data-bind-child="params" data-bind="goodsnum" value="<%params.goodsnum%>" type="hidden" />
                </div>
            </div>
        </div>
    <%/if%>

</script>
